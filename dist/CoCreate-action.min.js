!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CoCreate=e():(t.CoCreate=t.CoCreate||{},t.CoCreate.action=e())}(this,function(){return(()=>{"use strict";var i={d:(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},t={};i.d(t,{default:()=>n});var e={attribute:"data-actions",actions:{},selectedStage:[],stageIndex:0,selectedElement:null,completedEventName:"completedEvent",__init:function(){this.actionButtonEvent()},actionButtonEvent:function(){var n=this;document.addEventListener("click",function(t){var e=t.target;(e=!e.getAttribute("data-actions")?t.target.closest("[data-actions]"):e)&&(t.preventDefault(),0!=(t=(e.getAttribute(n.attribute)||"").replace(/\s/g,"").split(",")).length&&(n.stageIndex=0,n.selectedStage=t,n.selectedElement=e,n.__runActionFunc()))})},init:function(t){var e=t.action,n=t.callback,t=t.endEvent;this.registerEvent(e,n,null,t)},registerEvent:function(t,e,n,i){if(!this.actions[t]){for(var s in this.actions[t]={key:t,runFunc:e,instance:n||window,endEvent:i},this.actions)if(s!=t&&this.actions[s].endEvent===i)return;var a=this;document.addEventListener(i,function(t){a.__nextAction(i,t.detail)})}},__runActionFunc:function(t){var e;this.stageIndex>=this.selectedStage.length?this.stageIndex==this.selectedStage.length&&this.__runAtag(this.selectedElement):(e=this.selectedStage[this.stageIndex],(e=this.actions[e])&&(e.runFunc?e.runFunc.call(null,this.selectedElement,t):this.__nextAction(e.endEvent,{})))},__nextAction:function(t,e){var n=this.selectedStage[this.stageIndex];n&&t===this.actions[n].endEvent&&(this.stageIndex++,this.__runActionFunc(e))},__runAtag:function(t){t=t.querySelector("a");t&&CoCreate.logic.setLinkProcess(t)}};e.__init();const n=e;return t.default})()});